<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
   	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <meta charset="UTF-8">
    <title>Employee System</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <h1>Employee Management System</h1>
        <hr>
      

        <form action="#" th:action="@{/saveEmployee}" th:object="${employee}" method="POST"
         enctype="multipart/form-data">
            
            <input type="text" th:field="*{firstName}" placeholder="Employee First Name" class="form-control mb-4 col-4">
			  <span th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">Full name error</span>         
            
            <input type="text" th:field="*{lastName}" placeholder="Employee Last Name" class="form-control mb-4 col-4">
			<span th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Full name error</span>
			
			  <input type="tel" id="phone" name="phone" pattern="[0-9]{10}" th:field="*{phone}" placeholder="Employee phone" class="form-control mb-4 col-4">
           <span th:if="${#fields.hasErrors('phone')}" th:errors="*{phone}">Full name error</span>
            
            <input type="email" id="email" name="email" th:field="*{email}" placeholder="Employee Email" class="form-control mb-4 col-4">
			<span th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Full name error</span>
          
          	<p>
          	<label>Photo:</label>
          	<input type="file" name="fileImage" id="fileImage" accept="image/png, image/jpeg"/>
          	</p>
          	<p>
          	<img id="thumbnail" alt="Logo Preview"/>
          	</p>
          	

            <button type="submit" class="btn btn-info col-2"> Save Employee</button>
        </form>
        
   

        <hr>

        <a th:href="@{/}"> Back to Employee List</a>
        
          <script type="text/javascript">
		$('#fileImage').change(function(){
		showImageThumbnail(this);
		});
	 
	 	function showImageThumbnail(fileInput){
	 	file=fileInput.files[0];
	 	reader=new FileReader();
	 	
	 	reader.onload=function(e){
	 	$('#thumbnail').attr('src',e.target.result);
	 	};
	 	reader.readAsDataURL(file);
	 }  	
  </script>
    
    </div>
  

</body>

</html>